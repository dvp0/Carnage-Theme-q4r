{% comment %}
  Product Information Tabs
  Displays product description, specifications, shipping info, and FAQs in tabs
{% endcomment %}

<div class="product-tabs-wrapper">
  <div class="product-tabs-navigation" role="tablist">
    {%- if product.description != blank -%}
      <button
        class="product-tab-button active"
        role="tab"
        aria-selected="true"
        aria-controls="tab-description-{{ section.id }}"
        id="tab-btn-description-{{ section.id }}"
        data-tab="description"
      >
        Description
      </button>
    {%- endif -%}

    {%- if product.metafields.custom.specifications != blank or block.settings.show_specifications -%}
      <button
        class="product-tab-button"
        role="tab"
        aria-selected="false"
        aria-controls="tab-specs-{{ section.id }}"
        id="tab-btn-specs-{{ section.id }}"
        data-tab="specs"
      >
        Specifications
      </button>
    {%- endif -%}

    {%- if block.settings.show_shipping_info -%}
      <button
        class="product-tab-button"
        role="tab"
        aria-selected="false"
        aria-controls="tab-shipping-{{ section.id }}"
        id="tab-btn-shipping-{{ section.id }}"
        data-tab="shipping"
      >
        Shipping & Returns
      </button>
    {%- endif -%}

    {%- if block.settings.show_faq -%}
      <button
        class="product-tab-button"
        role="tab"
        aria-selected="false"
        aria-controls="tab-faq-{{ section.id }}"
        id="tab-btn-faq-{{ section.id }}"
        data-tab="faq"
      >
        FAQ
      </button>
    {%- endif -%}
  </div>

  <div class="product-tabs-content">
    {%- if product.description != blank -%}
      <div
        class="product-tab-panel active"
        role="tabpanel"
        id="tab-description-{{ section.id }}"
        aria-labelledby="tab-btn-description-{{ section.id }}"
        data-tab-content="description"
      >
        <div class="rte">
          {{ product.description }}
        </div>
      </div>
    {%- endif -%}

    {%- if product.metafields.custom.specifications != blank or block.settings.show_specifications -%}
      <div
        class="product-tab-panel"
        role="tabpanel"
        id="tab-specs-{{ section.id }}"
        aria-labelledby="tab-btn-specs-{{ section.id }}"
        data-tab-content="specs"
      >
        <div class="product-specifications">
          {%- if product.metafields.custom.specifications != blank -%}
            {{ product.metafields.custom.specifications }}
          {%- else -%}
            <table class="specs-table">
              {%- if product.vendor != blank -%}
                <tr>
                  <td class="spec-label">Brand</td>
                  <td class="spec-value">{{ product.vendor }}</td>
                </tr>
              {%- endif -%}
              {%- if product.type != blank -%}
                <tr>
                  <td class="spec-label">Product Type</td>
                  <td class="spec-value">{{ product.type }}</td>
                </tr>
              {%- endif -%}
              {%- if product.weight -%}
                <tr>
                  <td class="spec-label">Weight</td>
                  <td class="spec-value">{{ product.weight | weight_with_unit }}</td>
                </tr>
              {%- endif -%}
              {%- for option in product.options_with_values -%}
                <tr>
                  <td class="spec-label">{{ option.name }}</td>
                  <td class="spec-value">{{ option.values | join: ', ' }}</td>
                </tr>
              {%- endfor -%}
            </table>
          {%- endif -%}
        </div>
      </div>
    {%- endif -%}

    {%- if block.settings.show_shipping_info -%}
      <div
        class="product-tab-panel"
        role="tabpanel"
        id="tab-shipping-{{ section.id }}"
        aria-labelledby="tab-btn-shipping-{{ section.id }}"
        data-tab-content="shipping"
      >
        <div class="shipping-info">
          {%- if block.settings.shipping_text != blank -%}
            <div class="rte">{{ block.settings.shipping_text }}</div>
          {%- else -%}
            <div class="shipping-item">
              <h4>Free Shipping</h4>
              <p>Free standard shipping on orders over $50</p>
            </div>
            <div class="shipping-item">
              <h4>Fast Delivery</h4>
              <p>Orders ship within 1-2 business days</p>
            </div>
            <div class="shipping-item">
              <h4>Easy Returns</h4>
              <p>30-day return policy for all items</p>
            </div>
          {%- endif -%}
        </div>
      </div>
    {%- endif -%}

    {%- if block.settings.show_faq -%}
      <div
        class="product-tab-panel"
        role="tabpanel"
        id="tab-faq-{{ section.id }}"
        aria-labelledby="tab-btn-faq-{{ section.id }}"
        data-tab-content="faq"
      >
        <div class="product-faq">
          {%- if block.settings.faq_text != blank -%}
            <div class="rte">{{ block.settings.faq_text }}</div>
          {%- else -%}
            <details class="faq-item">
              <summary>How long will delivery take?</summary>
              <p>Standard shipping typically takes 3-5 business days. Express shipping is available for faster delivery.</p>
            </details>
            <details class="faq-item">
              <summary>What is your return policy?</summary>
              <p>We offer a 30-day return policy on all items. Products must be unused and in original packaging.</p>
            </details>
            <details class="faq-item">
              <summary>Do you ship internationally?</summary>
              <p>Yes, we ship to most countries worldwide. International shipping times vary by location.</p>
            </details>
            <details class="faq-item">
              <summary>How do I track my order?</summary>
              <p>Once your order ships, you'll receive an email with tracking information.</p>
            </details>
          {%- endif -%}
        </div>
      </div>
    {%- endif -%}
  </div>
</div>
